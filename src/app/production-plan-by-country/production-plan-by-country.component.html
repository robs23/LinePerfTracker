<div>
  <div *ngIf="Locations!=undefined"> 
    <div class="plan-container" *ngIf="Locations.length > 0">
      <table mat-table [dataSource]="PlanItems" class="shift-table" id="shift-table">
        <!-- Location Column -->
        <ng-container matColumnDef="LOCATION">
          <th mat-header-cell *matHeaderCellDef>Lokacja</th>
          <td mat-cell *matCellDef="let row; let iRow = index" [attr.rowspan]="rowSpans[0][iRow].span"
                [style.display]="rowSpans[0][iRow].span === 0 ? 'none'  : ''">{{ row.LOCATION }}</td>
        </ng-container>
  
        <!-- Week Column -->
        <ng-container matColumnDef="WEEK">
          <th mat-header-cell *matHeaderCellDef>Tydzień</th>
          <td mat-cell *matCellDef="let row">
            {{ row.WEEK }}
          </td>
        </ng-container>

        <!-- YEAR Column -->
        <ng-container matColumnDef="YEAR">
          <th mat-header-cell *matHeaderCellDef>Rok</th>
          <td mat-cell *matCellDef="let row">
            {{ row.YEAR }}
          </td>
        </ng-container>

        <!-- START_DATE Column -->
        <ng-container matColumnDef="START_DATE">
          <th mat-header-cell *matHeaderCellDef> Start </th>
          <td mat-cell *matCellDef="let row">{{ row.START_DATE | date: 'yyyy-MM-dd HH:mm' }}</td>
        </ng-container>

        <!-- STOP_DATE Column -->
        <ng-container matColumnDef="STOP_DATE">
          <th mat-header-cell *matHeaderCellDef> Stop </th>
          <td mat-cell *matCellDef="let row">{{ row.STOP_DATE | date: 'yyyy-MM-dd HH:mm' }}</td>
        </ng-container>

        <!-- MACHINE_NAME Column -->
        <ng-container matColumnDef="MACHINE_NAME">
          <th mat-header-cell *matHeaderCellDef> Maszyna </th>
          <td mat-cell *matCellDef="let row">{{ row.MACHINE_NAME }}</td>
        </ng-container>

        <!-- ORDER_NR Column -->
        <ng-container matColumnDef="ORDER_NR">
          <th mat-header-cell *matHeaderCellDef> Zlecenie </th>
          <td mat-cell *matCellDef="let row">{{ row.ORDER_NR }}</td>
        </ng-container>

        <!-- PRODUCT_NR Column -->
        <ng-container matColumnDef="PRODUCT_NR">
          <th mat-header-cell *matHeaderCellDef> Produkt </th>
          <td mat-cell *matCellDef="let row">{{ row.PRODUCT_NR }}</td>
        </ng-container>

        <!-- NAME Column -->
        <ng-container matColumnDef="NAME">
          <th mat-header-cell *matHeaderCellDef> Nazwa </th>
          <td mat-cell *matCellDef="let row">{{ row.NAME }}</td>
        </ng-container>

        <!-- QUANTITY Column -->
        <ng-container matColumnDef="QUANTITY">
          <th mat-header-cell *matHeaderCellDef> PC </th>
          <td mat-cell *matCellDef="let row">{{ row.QUANTITY }}</td>
        </ng-container>

        <!-- PAL Column -->
        <ng-container matColumnDef="PAL">
          <th mat-header-cell *matHeaderCellDef> PAL </th>
          <td mat-cell *matCellDef="let row">{{ row.PAL }}</td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns"
          class="header-row"
        ></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <div class="no-records" *ngIf="Locations.length === 0">
      Brak danych
    </div>
  </div>

  <div class="no-records" *ngIf="Locations == undefined">
    Nie udało się pobrać planu produkcji..
  </div>
</div>
